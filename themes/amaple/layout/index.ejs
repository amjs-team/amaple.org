<%
var pageTitle = page.title || config.subtitle || '';
if (is_archive()) pageTitle = 'Archives';
if (is_tag()) pageTitle = 'Tag: ' + page.tag;
if (is_category()) pageTitle = 'Category: ' + page.category;
if (is_month()) pageTitle += ': ' + page.month + '/' + page.year;
if (is_year()) pageTitle += ': ' + page.year;
pageTitle += ' [ ' + config.title + ' ]';
%>

<!DOCTYPE html>
<html lang="<%=config.language%>">
<head>
  <meta charset="UTF-8">
  <title><%=page.title || config.subtitle || ''%></title>
  <% if (theme.stylesheets !== undefined && theme.stylesheets.length > 0) { %>
  <!-- stylesheets list from config.yml -->
  <% theme.stylesheets.forEach(function(url) { %>
    <link rel="stylesheet" href="<%=url%>">
  <% }); %>
  <% } %>
</head>
<body>
  <div :module="header" class="header"></div>
  <div :module></div>
  <div :module="footer"></div>
</body>
<% if (theme.scripts !== undefined && theme.scripts.length > 0) { %>
  <!-- scripts list from theme config.yml -->
  <% theme.scripts.forEach(function(url) { %>
    <script src="<%=url%>"></script>
  <% }); %>
<% } %>

<script>
  am.startRouter ( {
    history: am.HASH,
    baseURL: {
      module: "module",
      component: "component"
    },
    routes: function ( router ) {
      router.module ( "header" )
      .route ( ["/", "/:root"], "common/header" );

      router.module ()
      .route ( ["/", "/index"], "index" );

      router.module ( "footer" )
      .route ( ["/", "/:root"], "common/footer" );
    },

    plugin: [
      { name: "sampleCode", build: function () {
        return {
          code: [],
        }
      } }
    ]
  } );
</script>
</html>