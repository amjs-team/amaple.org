<module>
	<template>
		<div class="nav">
			<h2 class="title-color title-size">当前目录</h2>
			<ol class="current-nav">
				<li :for="item in list">
					<span>{{ item.tag }}</span>
					<ol :if="item.children.length > 0" class="child-nav">
						<li :for="childItem in item.children">
							<span>{{ childItem.tag }}</span>
						</li>
					</ol>
				</li>
			</ol>
		</div>
		<div class="nav">
			<h2 class="title-color title-size">{{ categoryName }}</h2>
			<ul class="current-nav">
				<li :for="post in posts">
					<a href="{{ post.path }}">{{ post.title }}</a>
				</li>
			</ul>
		</div>
	</template>

	<script>
		new am.Module ( {
			init: function () {
				return {
					list: [],
					categoryName: "",
					posts: []
				};
			},
			mounted: function ( event ) {
				var self = this;
				event.on ( "deliverToc", function ( list, posts, categoryName ) {
					self.state.list = list;
					self.state.categoryName = categoryName;
					self.state.posts = posts;
				} );
			}
		} );
	</script>

	<style scoped>
		.nav {
			margin: 40px 0 90px 0;
		}
		.current-nav {
			margin-top: 35px;
		}
		.current-nav li {
			font-size: 16px;
			margin: 6px 0;
		}
		.child-nav {
			margin-left: 4px;
		}
		.child-nav li {
			margin: 0;
			font-size: 14px;
			color: #959fad;
		}
		.child-nav li span {
			color: #959fad;
		}
	</style>
</module>